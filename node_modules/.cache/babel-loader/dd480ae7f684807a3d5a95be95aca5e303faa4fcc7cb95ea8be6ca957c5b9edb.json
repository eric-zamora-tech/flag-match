{"ast":null,"code":"import Question from'./components/Question';import{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[hasNotStarted,setHasNotStarted]=useState(true);const[answerChoices,setAnswerChoices]=useState([]);const[countryData,setCountryData]=useState([]);const[flagToGuessSrc,setFlagToGuessSrc]=useState('');function startGame(){setHasNotStarted(false);const answerChoices=genAnswerChoices();setAnswerChoices(answerChoices.sort((a,b)=>0.5-Math.random()));}function genAnswerChoices(){const answerChoices=[];const correctCountryIndex=Math.floor(Math.random()*countryData.length);setFlagToGuessSrc(countryData[correctCountryIndex].flags.png);answerChoices.push({name:countryData[correctCountryIndex].name.common,isCorrect:true});for(let i=0;i<3;i++){let wrongCountryIndex=Math.floor(Math.random()*countryData.length);if(wrongCountryIndex==correctCountryIndex){i--;continue;}for(let j=0;j<answerChoices.length;j++){if(answerChoices[j].name===countryData[wrongCountryIndex].name.common){i--;continue;}}answerChoices.push({name:countryData[wrongCountryIndex].name.common,isCorrect:false});}return answerChoices;}useEffect(()=>{axios.get('https://restcountries.com/v3.1/all').then(response=>{setCountryData(response.data);}).catch(error=>{console.error(error);});},[]);if(hasNotStarted){return/*#__PURE__*/_jsx(\"button\",{onClick:startGame,children:\"Start Game\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Question,{startGame:startGame,imgSrc:flagToGuessSrc,choices:answerChoices})});}export default App;","map":{"version":3,"names":["Question","useState","useEffect","axios","jsx","_jsx","Fragment","_Fragment","App","hasNotStarted","setHasNotStarted","answerChoices","setAnswerChoices","countryData","setCountryData","flagToGuessSrc","setFlagToGuessSrc","startGame","genAnswerChoices","sort","a","b","Math","random","correctCountryIndex","floor","length","flags","png","push","name","common","isCorrect","i","wrongCountryIndex","j","get","then","response","data","catch","error","console","onClick","children","imgSrc","choices"],"sources":["/Users/ericzamora/Desktop/flag-match/src/App.jsx"],"sourcesContent":["import Question from './components/Question';\nimport { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport './App.css'\n\nfunction App() {\n  const [hasNotStarted, setHasNotStarted] = useState(true);\n  const [answerChoices, setAnswerChoices] = useState([]);\n  const [countryData, setCountryData] = useState([]);\n  const [flagToGuessSrc, setFlagToGuessSrc] = useState('');\n  \n  function startGame() {\n    setHasNotStarted(false);\n\n    const answerChoices = genAnswerChoices();\n    setAnswerChoices(answerChoices.sort((a, b) => 0.5 - Math.random()));\n  }\n\n  function genAnswerChoices() {\n    const answerChoices = [];\n    const correctCountryIndex = Math.floor(Math.random() * countryData.length);\n\n    setFlagToGuessSrc(countryData[correctCountryIndex].flags.png);\n    answerChoices.push({name: countryData[correctCountryIndex].name.common, isCorrect: true});\n\n    for(let i = 0; i < 3; i++) {\n      let wrongCountryIndex = Math.floor(Math.random() * countryData.length);\n      if(wrongCountryIndex == correctCountryIndex) {\n        i--;\n        continue;\n      }\n      for(let j = 0; j < answerChoices.length; j++) {\n        if(answerChoices[j].name === countryData[wrongCountryIndex].name.common) {\n          i--;\n          continue;\n        }\n      }\n      answerChoices.push({name: countryData[wrongCountryIndex].name.common, isCorrect: false});\n    }\n\n    return answerChoices;\n  }\n\n  useEffect(() => {\n    axios.get('https://restcountries.com/v3.1/all')\n        .then(response => {\n            setCountryData(response.data);\n        })\n        .catch(error => {\n            console.error(error);\n        });\n  }, []);\n\n  if(hasNotStarted) {\n    return (\n      <button onClick={startGame}>Start Game</button>\n    )\n  }\n\n  return (\n    <>\n      <Question startGame={startGame} imgSrc={flagToGuessSrc} choices={answerChoices}/>\n    </>\n  )\n}\n\nexport default App\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}